<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}ol, ul{margin-left:16px;}</style><link rel="manifest" href="/manifest.webmanifest"/><title data-react-helmet="true">11. Balancing Binary Search Trees | Another C Library</title><meta data-react-helmet="true" name="description" content="Another C Library rebuilds, and in some cases, improves upon, some of the most useful Computer Science algorithms from the ground up for engineers to build complex, scalable applications."/><meta data-react-helmet="true" property="og:title" content="11. Balancing Binary Search Trees"/><meta data-react-helmet="true" property="og:description" content="Another C Library rebuilds, and in some cases, improves upon, some of the most useful Computer Science algorithms from the ground up for engineers to build complex, scalable applications."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Daniel Curtis"/><meta data-react-helmet="true" name="twitter:title" content="11. Balancing Binary Search Trees"/><meta data-react-helmet="true" name="twitter:description" content="Another C Library rebuilds, and in some cases, improves upon, some of the most useful Computer Science algorithms from the ground up for engineers to build complex, scalable applications."/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="shortcut icon" href="/icons/icon-48x48.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><meta name="generator" content="Gatsby 2.18.14"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e7dae36d9f0cebf3ec80080daa0bd528"/><style data-href="/styles.66212a8dc2aa02e99aac.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif`}a{text-decoration:none;cursor:pointer;color:#3182ce}a:hover{text-decoration:none;-webkit-filter:brightness(80%);filter:brightness(80%)}a:hover,button:hover{-webkit-transition:.6s;transition:.6s}button:hover{-webkit-filter:brightness(115%);filter:brightness(115%)}nav{display:flex;align-items:center}li{margin-bottom:3px}:not(pre)>code[class*=language],pre[class*=language]{border-radius:0;background:#f6f8fa;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;text-shadow:none}:not(pre)>code[class*=language]{color:#000;padding:3px}code[class*=language-],pre,pre[class*=language-]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;text-shadow:none}pre{background:#f6f8fa;font-size:.85rem;line-height:32px;overflow:scroll}.Footer{max-width:1200px;margin:30px auto;display:flex;justify-content:space-between}.Flex{display:grid;grid-template-columns:auto auto;grid-column-gap:50px}.Content{max-width:950px;width:72vw}@media only screen and (max-width:600px){.Footer,nav{flex-direction:column}.Flex{grid-template-columns:auto}.Sidebar{display:none}.Content{width:100%}}.Index-mn{max-width:1200px;margin:80px auto;padding:10px}.Index-hr{background-color:#2d3748;height:50vh;display:flex;align-items:center;text-align:center;margin:0 auto}.Index-h2{font-size:calc(16px + 2vw);margin:0 auto;color:#fff;border-bottom:none}.Index-h3{font-size:calc(16px + 1vw);color:#e2e8f0}.Index-p{color:#1a202c;list-style:none}.Index-hr-txt{text-align:center;margin:0 auto}.Index-cd{font-size:calc(16px + 1.5vw);background-color:#4a5568;padding:5px}.Index-btn{border-radius:10px;border:none;padding:10px 24px;margin:10px;font-size:18px;background:#3182ce;color:#fff;cursor:pointer}.Md-mn{margin:0 auto;max-width:1200px;display:flex}.Md-cntnt{color:#000;margin:0;padding:20px}.Md-actv-lnk{color:#38a169;font-weight:700}.Md-pst-ftr{display:flex;justify-content:space-between;border-top:1px solid #000;padding-top:10px}.Md-rrw{padding-top:5px}.Ebook-mn{margin:0 auto;max-width:1200px;display:flex}.Ebook-cntnt{color:#000;margin:0;padding:20px}.Ebook-sdbr{background:#f7fafc;width:20vw;height:100vh;padding:15px;color:#63b3ed;position:-webkit-sticky;position:sticky;top:62px}.License-mn{margin:0 auto;max-width:1200px;min-height:60vh;padding:50px 10px}.Footer-ctr{background-color:#1a202c;padding:10px;color:#fff}.Footer-ul{list-style:none;margin-left:0}.Footer-lnk{color:#3182ce}.Footer-p{margin-bottom:15px}</style><link as="script" rel="preload" href="/app-2a558a725b94d45b6c02.js"/><link as="script" rel="preload" href="/component---src-templates-md-page-js-203a2af8ece2db94eba8.js"/><link as="script" rel="preload" href="/styles-a8f8354e20700922ebe9.js"/><link as="script" rel="preload" href="/commons-091d252790abf7509c25.js"/><link as="script" rel="preload" href="/webpack-runtime-0ce17398fc543280a4bc.js"/><link as="fetch" rel="preload" href="/page-data/ebook/11-balancing-binary-search-trees/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="background-color:white"><header style="position:sticky;top:0;background-color:#1A202C;z-index:1;color:white"><nav style="margin:auto;max-width:1200px"><a style="font-size:1.25rem;padding:1rem 1.5rem;font-family:-apple-system,&#x27;BlinkMacSystemFont&#x27;,&#x27;Segoe UI&#x27;,&#x27;Roboto&#x27;,&#x27;Oxygen&#x27;,&#x27;Ubuntu&#x27;,&#x27;Cantarell&#x27;,&#x27;Fira Sans&#x27;,&#x27;Droid Sans&#x27;,&#x27;Helvetica Neue&#x27;,sans-serif" href="/"><span style="font-weight:700">Another C Library</span></a><a style="font-size:1.25rem;padding:1rem 1.5rem;font-family:-apple-system,&#x27;BlinkMacSystemFont&#x27;,&#x27;Segoe UI&#x27;,&#x27;Roboto&#x27;,&#x27;Oxygen&#x27;,&#x27;Ubuntu&#x27;,&#x27;Cantarell&#x27;,&#x27;Fira Sans&#x27;,&#x27;Droid Sans&#x27;,&#x27;Helvetica Neue&#x27;,sans-serif" href="/docs/">Documentation</a><a style="font-size:1.25rem;padding:1rem 1.5rem;font-family:-apple-system,&#x27;BlinkMacSystemFont&#x27;,&#x27;Segoe UI&#x27;,&#x27;Roboto&#x27;,&#x27;Oxygen&#x27;,&#x27;Ubuntu&#x27;,&#x27;Cantarell&#x27;,&#x27;Fira Sans&#x27;,&#x27;Droid Sans&#x27;,&#x27;Helvetica Neue&#x27;,sans-serif;color:#38A169;border-bottom:solid 4px #2F855A;background-color:#2D3748" class="" href="/ebook/">Learn C</a><a style="font-size:1.25rem;padding:1rem 1.5rem;font-family:-apple-system,&#x27;BlinkMacSystemFont&#x27;,&#x27;Segoe UI&#x27;,&#x27;Roboto&#x27;,&#x27;Oxygen&#x27;,&#x27;Ubuntu&#x27;,&#x27;Cantarell&#x27;,&#x27;Fira Sans&#x27;,&#x27;Droid Sans&#x27;,&#x27;Helvetica Neue&#x27;,sans-serif" target="_blank" rel="noopener noreferrer" href="https://github.com/contactandyc/another-c-library">Github <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" style="padding-top:5px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"></path></svg></a><p style="margin:auto">Version 1.0</p></nav></header><main><div class="Md-mn"><div class="Md-cntnt Content"><h1>11. Balancing Binary Search Trees</h1><p>Copyright <!-- -->2020<!-- --> Andy Curtis &amp; Daniel Curtis</p><div><p>This builds significantly on the last section about <a href="../10-binary-search-trees/index.md">binary search trees</a>.  To start, let's explore why balancing a binary search tree is important.</p>
<p>The following code is found in <i>illustrations/11<em>balancing</em>binary<em>search</em>trees/1<em>binary</em>search_tree</i></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">cd $ac/illustrations/11_balancing_binary_search_trees/1_binary_search_tree</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">make</code></pre></div>
<p>In this case, I've not included examples in the Makefile.  I've also commented out printing the data structure using iteration and reverse iteration as it isn't relevant to understanding how the red-black tree works.</p>
<h2 id="why-balancing-is-important"><a href="#why-balancing-is-important" aria-label="why balancing is important permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why balancing is important</h2>
<p>To understand why balancing a binary search tree is important, let's look at some worst-case and bad scenarios.</p>
<p>One worst case scenario</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./test_data_structure ABCDEFGHI
Creating binary_search_tree for ABCDEFGHI
A1
  \
   B2
     \
      C3
        \
         D4
           \
            E5
              \
               F6
                 \
                  G7
                    \
                     H8
                       \
                        I9</code></pre></div>
<p>Another worst-case scenario</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./test_data_structure IHGFEDCBA
Creating binary_search_tree for IHGFEDCBA
I1
|
H2
|
G3
|
F4
|
E5
|
D6
|
C7
|
B8
|
A9</code></pre></div>
<p>A mixed case where the tree isn't balanced</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./test_data_structure IHGFEDCBAabcdef
Creating binary_search_tree for IHGFEDCBAabcdef
I1
| \
H2 a2
|    \
G3    b3
|       \
F4       c4
|          \
E5          d5
|             \
D6             e6
|                \
C7                f7
|                   
B8
|
A9</code></pre></div>
<p>Yet another worst-case scenario.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./test_data_structure Izpagkml
Creating binary_search_tree for Izpagkml
I1
  \
   z2
   |
   p3
   |
   a4
     \
      g5
        \
         k6
           \
            m7
            |
            l8</code></pre></div>
<p>The example above could be said to be balanced if it looked like the following.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">k1
| \
|  p2
|  | \
|  m3 z3
|  |    
|  l4
|    
a2
| \
I3 g3</code></pre></div>
<p>The leaf nodes are the nodes that don't have children.  In the example above, all of the leaves have a depth of 3, except l, which has a depth of 4.  At the first level of a binary search tree, a fully balanced tree can have at most 1 node (the root node).  At the second level, 2 nodes (+1 for the first level).  At the third level, 4 nodes (+3 for the first and second), and so on.  The example above has 8 nodes, and the entire first, second, and third levels are full.  This tree is balanced.</p>
<p>A balanced binary search tree is useful in that you are guaranteed that finding a node will take O(logN) time where N is the number of elements in the tree.  A binary search tree that isn't balanced has a worst case of O(N) time.  This isn't a big deal if you have 5-10 nodes, but if you have 1 million nodes, a balanced binary search tree will take at most 21 operations.  If the tree is not balanced, it might take 1 million operations!  You will often see logN used in describing how long an algorithm takes.  The base of log, in this case, is 2 (since computers think in terms of 0s and 1s or powers of 2).</p>
<p>The red-black tree is a mostly balanced binary search tree that was invented by Leonidas J. Guibas and Robert Sedgewick.  Certain properties make a red-black tree valid.  </p>
<h2 id="properties-of-a-red-black-tree"><a href="#properties-of-a-red-black-tree" aria-label="properties of a red black tree permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Properties of a red-black tree</h2>
<p>Red–black tree Properties (<a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">https://en.wikipedia.org/wiki/Red–black_tree</a>)</p>
<ol>
<li>Each node is either red or black.</li>
<li>The root is black.</li>
<li>All leaves (NIL) are black.</li>
<li>If a node is red, then both its children are black.</li>
<li>Every path from a given node to any of its descendant NIL nodes contains the same number of black nodes.</li>
</ol>
<p>My additional rules for clarification which are based upon the first 5 rules.</p>
<ul>
<li>If a node has one child, the child must be red (and the parent of that child must be black)</li>
<li>Children must all be red or all be black of a given node.  If the parent is red, the children must be black.  If the parent is black, the children can be red or black.</li>
<li>If a node has two children, one or both of the children can be red if the parent is black</li>
<li>If a node is red, it must have either two children who are black or no children at all.</li>
<li>The parent of a red node must be black</li>
<li>The black height of any leaf node must be the same (another way of stating 5)</li>
<li>A red-black tree often will have many more black nodes than red nodes.  This is okay and expected.  The red node is an indication that the tree may be somehow out of balance.  It is possible to have more red nodes than black nodes, but it isn't typical.</li>
<li>A red-black tree has a worst case of a 2logN depth but is likely to maintain a logN depth or be very close to it.  The red-black tree would only reach 2logN if every other node from the root (which must be black) is red.  Given that this is very unlikely, a red-black tree tends to be closer to logN depth.</li>
</ul>
<p>The red-black tree uses coloring and tree rotations to balance the binary search tree.  </p>
<h2 id="coloring"><a href="#coloring" aria-label="coloring permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Coloring</h2>
<p>In a red-black tree, the red and black colors are introduced.  Typically, this is represented as a single bit with 0 meaning black and 1, meaning red.  </p>
<p>To color a node red, set the color to RED (RED is defined as 1).</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">color_node_red</span><span class="token punctuation">(</span> node_t <span class="token operator">*</span>node <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  node<span class="token operator">-></span>color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Likewise, to color a node black, set the color to BLACK (BLACK is defined as 0).</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">color_node_black</span><span class="token punctuation">(</span> node_t <span class="token operator">*</span>node <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  node<span class="token operator">-></span>color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Recoloring a node involves painting a node RED and its children (which both must exist) BLACK.</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">recolor</span><span class="token punctuation">(</span> node_t <span class="token operator">*</span>n <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  n<span class="token operator">-></span>color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
  n<span class="token operator">-></span>left<span class="token operator">-></span>color <span class="token operator">=</span> n<span class="token operator">-></span>right<span class="token operator">-></span>color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="rotations"><a href="#rotations" aria-label="rotations permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rotations</h2>
<p>Rotations are used to balance binary search trees when using the red-black tree algorithm.  The following examples will not include colors and are just made up.  A right rotation around R</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">G
|\
E R
  |
  N</code></pre></div>
<p>would result in</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">G
|\
E N
   \
    R</code></pre></div>
<p>A left rotation around G would result in</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">N
|\
G R
|
E</code></pre></div>
<p>A right rotation around G would result in</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">N
|\
E R
 \
  G</code></pre></div>
<p>In all cases, after a rotation, the tree is still a valid binary search tree.  To do a right rotation around a node, that node must reference a left node.  The left node and itself will exchange colors.  When doing a left rotation around a node, that node must reference a right node.  The right node and itself will exchange colors.</p>
<p>rotate_left does the following.</p>
<ul>
<li>assign new_root to A->right.</li>
<li>swap the color between A and new_root.</li>
<li>if A has a parent, link the parent to new<em>root; otherwise, link root to new</em>root.</li>
<li>put A to the left of new<em>root and what was previously to the right of new</em>root to the left of A.</li>
</ul>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">rotate_left</span><span class="token punctuation">(</span>node_t <span class="token operator">*</span>A<span class="token punctuation">,</span> node_t <span class="token operator">*</span><span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  node_t <span class="token operator">*</span>new_root <span class="token operator">=</span> A<span class="token operator">-></span>right<span class="token punctuation">;</span>
  size_t tmp_color <span class="token operator">=</span> A<span class="token operator">-></span>color<span class="token punctuation">;</span>
  A<span class="token operator">-></span>color <span class="token operator">=</span> new_root<span class="token operator">-></span>color<span class="token punctuation">;</span>
  new_root<span class="token operator">-></span>color <span class="token operator">=</span> tmp_color<span class="token punctuation">;</span>
  node_t <span class="token operator">*</span>parent <span class="token operator">=</span> A<span class="token operator">-></span>parent<span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">-></span>left <span class="token operator">==</span> A<span class="token punctuation">)</span>
      parent<span class="token operator">-></span>left <span class="token operator">=</span> new_root<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
      parent<span class="token operator">-></span>right <span class="token operator">=</span> new_root<span class="token punctuation">;</span>
    new_root<span class="token operator">-></span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    new_root<span class="token operator">-></span>parent <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>root <span class="token operator">=</span> new_root<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  node_t <span class="token operator">*</span>tmp <span class="token operator">=</span> new_root<span class="token operator">-></span>left<span class="token punctuation">;</span>
  new_root<span class="token operator">-></span>left <span class="token operator">=</span> A<span class="token punctuation">;</span>
  A<span class="token operator">-></span>parent <span class="token operator">=</span> new_root<span class="token punctuation">;</span>

  A<span class="token operator">-></span>right <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
    tmp<span class="token operator">-></span>parent <span class="token operator">=</span> A<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Rotating to the right is similar to rotating to the left (except you need to swap left and right).</p>
<p>I've written a tool to help you to understand how colors and rotations work.</p>
<p>The following code is found in <i>illustrations/11<em>balancing</em>binary<em>search</em>trees/2<em>tree</em>operations</i></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">cd $ac/illustrations/11_balancing_binary_search_trees/2_tree_operations</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">make</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">./tree_operations</code></pre></div>
<p>You will be prompted with the following...</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">(i)nsert, (e)rase, (r)ight_rotate, (l)eft_rotate, (R)ed, (b)lack, re(c)olor, (h)elp, (q)uit</code></pre></div>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">i a</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">(a0)

The root is not black!

(i)nsert, (e)rase, (r)ight_rotate, (l)eft_rotate, (R)ed, (b)lack, re(c)olor, (h)elp, (q)uit</code></pre></div>
<p>If the node is in parenthesis, it is red.  On your terminal, it should print in the red color, as well.  Whenever you insert a node, it is painted red.  You can use the tool to try and turn this into a proper red-black tree.  In the red-black tree, the root is always black.  We can paint a black by typing the following.</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b a</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">a1

Starting with a valid red black tree
====================================

Operation: insert a
(a0)

The root is not black!

Operation: black a
a1

The above tree is a valid red-black tree</code></pre></div>
<p>The first operation was <strong>insert a</strong> broke the red-black tree rules.  It was fixed by painting the root node black.</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">i b</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">a1
  \
   (b1)

Starting with a valid red black tree
====================================
a1


Operation: insert b
a1
  \
   (b1)


The above tree is a valid red-black tree</code></pre></div>
<p>In this case, nothing needed to be done because b's parent was black.</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">i c</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">a1
  \
   (b1)
       \
        (c1)

(b1) has a red right child and is red
(c1) has a red parent and is red</code></pre></div>
<p>In this case, c's parent b is red.  If we rotate around a to the left, it should fix it.</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">l a</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
| \
|  (c1)
|      
(a1)

Starting with a valid red black tree
====================================
a1
  \
   (b1)


Operation: insert c
a1
  \
   (b1)
       \
        (c1)

(b1) has a red right child and is red
(c1) has a red parent and is red

Operation: left_rotate a
b1
| \
|  (c1)
|      
(a1)

The above tree is a valid red-black tree</code></pre></div>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">i d</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
| \
|  (c1)
|      \
(a1)    (d1)

(c1) has a red right child and is red
(d1) has a red parent and is red</code></pre></div>
<p>Since the parent (c) and the uncle (a) are both red, we can try recoloring around the grandparent (b).</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">c b</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">(b0)
|   \
a1   c1
       \
        (d1)

The root is not black!</code></pre></div>
<p>If the tree is balanced, we can always just paint the root node black.</p>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b b</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
| \
a2 c2
     \
      (d2)

Starting with a valid red black tree
====================================
b1
| \
|  (c1)
|      
(a1)

Operation: insert d
b1
| \
|  (c1)
|      \
(a1)    (d1)

(c1) has a red right child and is red
(d1) has a red parent and is red

Operation: color b
(b0)
|   \
a1   c1
       \
        (d1)

The root is not black!

Operation: black b
b1
| \
a2 c2
     \
      (d2)      

The above tree is a valid red-black tree</code></pre></div>
<p>type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">i e</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
| \
a2 c2
     \
      (d2)
          \
           (e2)

(d2) has a red right child and is red
(e2) has a red parent and is red</code></pre></div>
<p>This can be resolved through a left rotation.
type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">l c</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
| \
a2 d2
   | \
   |  (e2)
   |      
   (c2)

Starting with a valid red black tree
====================================
b1
| \
a2 c2
     \
      (d2)


Operation: insert e
b1
| \
a2 c2
     \
      (d2)
          \
           (e2)

(d2) has a red right child and is red
(e2) has a red parent and is red

Operation: left_rotate c
b1
| \
a2 d2
   | \
   |  (e2)
   |      
   (c2)


The above tree is a valid red-black tree</code></pre></div>
<p>The tool will also allow you to erase nodes.  Let's erase a to start.
type</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">e a</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b1
  \
   d2
   | \
   |  (e2)
   |      
   (c2)

b1 has one right child, and it isn&#39;t red</code></pre></div>
<p>We can try a left rotation around b</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">l b</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">d1
| \
|  (e1)
|      
b2
  \
   (c2)

(e1) has a different black height than (c2)</code></pre></div>
<p>If we color e black, the tree will be a proper red-black tree.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">b e</code></pre></div>
<p>outputs</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">d1
| \
|  e2
|    
b2
  \
   (c2)

Starting with a valid red black tree
====================================
b1
| \
a2 d2
   | \
   |  (e2)
   |      
   (c2)

Operation: erase a
b1
  \
   d2
   | \
   |  (e2)
   |      
   (c2)

b1 has one right child, and it isn&#39;t red

Operation: left_rotate b
d1
| \
|  (e1)
|      
b2
  \
   (c2)

(e1) has a different black height than (c2)

Operation: black e
d1
| \
|  e2
|    
b2
  \
   (c2)

The above tree is a valid red-black tree</code></pre></div>
<p>I'll reference this tool in the explanation of the red-black tree that comes next.  Hopefully, the red-black tree will make more sense as we've already seen how much of it works.</p>
<p>The tool (tree_operations) can also start with a valid red-black tree, which you can modify by specifying a sequence of characters in the order in which you wish the characters to be inserted.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./tree_operations ABC
B1
| \
|  (C1)
|      
(A1)</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./tree_operations ABCD
B1
| \
A2 C2
     \
      (D2)</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./tree_operations BADC
B1
| \
A2 D2
   |
   (C2)</code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ ./tree_operations ABCDEFGHIJKLMNOPQRSTUVWXYZ
H1
| \
|  P2
|  | \
|  |  (T2)
|  |  |   \
|  |  R3   V3
|  |  | \  | \
|  |  Q4 | U4 (X3)
|  |     |    |   \
|  |     S4   W4   Y4
|  |                 \
|  (L2)               (Z4)
|  |   \                  
|  J3   N3
|  | \  | \
|  I4 | M4 O4
|     |      
D2    K4
| \     
|  F3
|  | \
|  E4 G4
|       
B3
| \
A4 C4</code></pre></div>
<p>Once the tool is loaded, you can insert or erase nodes and try and figure out how to make it work as a red-black tree again.</p>
<p><a href="../../../README.md">Table of Contents (only if viewing on Github)</a></p></div><div class="Md-pst-ftr"><a href="/ebook/5-threads"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="Md-rrw" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm116-292H256v-70.9c0-10.7-13-16.1-20.5-8.5L121.2 247.5c-4.7 4.7-4.7 12.2 0 16.9l114.3 114.9c7.6 7.6 20.5 2.2 20.5-8.5V300h116c6.6 0 12-5.4 12-12v-64c0-6.6-5.4-12-12-12z"></path></svg> <!-- -->5. Threads</a><a href="/ebook/7-allocator">7. The Global Allocator Object<!-- --> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="Md-rrw" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zM140 300h116v70.9c0 10.7 13 16.1 20.5 8.5l114.3-114.9c4.7-4.7 4.7-12.2 0-16.9l-114.3-115c-7.6-7.6-20.5-2.2-20.5 8.5V212H140c-6.6 0-12 5.4-12 12v64c0 6.6 5.4 12 12 12z"></path></svg></a></div></div><div style="font-family:-apple-system,&#x27;BlinkMacSystemFont&#x27;,&#x27;Segoe UI&#x27;,&#x27;Roboto&#x27;,&#x27;Oxygen&#x27;,
      &#x27;Ubuntu&#x27;,&#x27;Cantarell&#x27;,&#x27;Fira Sans&#x27;,&#x27;Droid Sans&#x27;,&#x27;Helvetica Neue&#x27;,sans-serif;height:100vh;padding:15px;color:#1E4E8C;position:sticky;top:62px;border-left:solid 1px #EDF2F7" class="Sidebar"><div><div><a href="/ebook/1-getting-started">1. Getting Started</a></div><div><a href="/ebook/2-timing">2. Timing Your Code (First Project)</a></div><div><a href="/ebook/3-buffer">3. The Buffer Object</a></div><div><a href="/ebook/4-linked-lists">4. Linked Lists</a></div><div><a href="/ebook/5-threads">5. Threads</a></div><div><a href="/ebook/6-macros">6. Macros</a></div><div><a href="/ebook/7-allocator">7. The Global Allocator Object</a></div><div><a href="/ebook/8-allocator-implementation">8. The Global Allocator Implementation</a></div><div><a href="/ebook/9-pool">9. The Pool Object</a></div><div><a href="/ebook/10-binary-search-trees">10. Binary Search Trees</a></div><div><a href="/ebook/11-balancing-binary-search-trees">11. Balancing Binary Search Trees</a><ul style="padding-left:0;list-style:none"><li style="margin-bottom:0"><a href="/ebook/11-balancing-binary-search-trees#why-balancing-is-important">Why balancing is important</a></li><li style="margin-bottom:0"><a href="/ebook/11-balancing-binary-search-trees#properties-of-a-red-black-tree">Properties of a red-black tree</a></li><li style="margin-bottom:0"><a href="/ebook/11-balancing-binary-search-trees#coloring">Coloring</a></li><li style="margin-bottom:0"><a href="/ebook/11-balancing-binary-search-trees#rotations">Rotations</a></li></ul></div><div><a href="/ebook/12-red-black-tree">12. The Red-Black Tree</a></div><div><a href="/ebook/13-map">13. The Map Object</a></div><div><a href="/ebook/14-set-and-multimap">14. The Set and Multimap</a></div></div></div></div></main><footer class="Footer-ctr"><div class="Footer"><div><h1 style="margin:10px 0">Another C Library</h1><p class="Footer-p">© <!-- -->2020<!-- --> Andy Curtis &amp; Daniel Curtis</p><ul class="Footer-ul"><li><a class="Footer-lnk" href="/contact">Contact</a></li><li><a class="Footer-lnk" href="/contributing">Contributing</a></li><li><a class="Footer-lnk" href="/license">License</a></li></ul></div><div><h2 style="margin:10px auto">Learn C</h2><ul class="Footer-ul"><li><a href="/ebook/1-getting-started">1. Getting Started</a></li><li><a href="/ebook/2-timing">2. Timing Your Code (First Project)</a></li><li><a href="/ebook/3-buffer">3. The Buffer Object</a></li><li><a href="/ebook/4-linked-lists">4. Linked Lists</a></li><li><a href="/ebook/5-threads">5. Threads</a></li><li><a href="/ebook/6-macros">6. Macros</a></li><li><a href="/ebook/7-allocator">7. The Global Allocator Object</a></li><li><a href="/ebook/8-allocator-implementation">8. The Global Allocator Implementation</a></li><li><a href="/ebook/9-pool">9. The Pool Object</a></li><li><a href="/ebook/10-binary-search-trees">10. Binary Search Trees</a></li><li><a href="/ebook/11-balancing-binary-search-trees">11. Balancing Binary Search Trees</a></li><li><a href="/ebook/12-red-black-tree">12. The Red-Black Tree</a></li><li><a href="/ebook/13-map">13. The Map Object</a></li><li><a href="/ebook/14-set-and-multimap">14. The Set and Multimap</a></li></ul></div><div><div><h2 style="margin:10px auto">Documentation</h2><ul class="Footer-ul"><li><a href="/docs/ac-allocator">ac_allocator</a></li><li><a href="/docs/ac-pool">ac_pool</a></li></ul></div><h2 style="margin:10px auto">Resources</h2><ul class="Footer-ul"><li><a href="https://medium.com/software-design/why-software-developers-should-care-about-cpu-caches-8da04355bb8a" target="_blank" rel="noopener noreferrer" class="Footer-lnk">Why software developers should care about CPU caches <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"></path></svg></a></li><li><a href="https://github.com/contactandyc/another-c-library/blob/master/docs/tips.md#create-multiline-macro-in-c" target="_blank" rel="noopener noreferrer" class="Footer-lnk">Helpful Tips for Formatting <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"></path></svg></a></li><li><a href="https://mitpress.mit.edu/books/introduction-algorithms-third-edition" target="_blank" rel="noopener noreferrer" class="Footer-lnk">Introduction to Alogorithms <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"></path></svg></a></li></ul></div></div></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-155680388-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ebook/11-balancing-binary-search-trees/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2a558a725b94d45b6c02.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-44b37c3d0621676eebb5.js"],"component---src-templates-md-page-js":["/component---src-templates-md-page-js-203a2af8ece2db94eba8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-149358f39a4e91e4fd14.js"],"component---src-pages-cards-js":["/component---src-pages-cards-js-4f7f83b47ce15ad24484.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-dd1d616c946bf818cddf.js"],"component---src-pages-contributing-js":["/component---src-pages-contributing-js-c395ff2a88d6c0887a23.js"],"component---src-pages-docs-js":["/component---src-pages-docs-js-5e463a823fa0254492be.js"],"component---src-pages-ebook-js":["/component---src-pages-ebook-js-21f13dc773f52113d145.js"],"component---src-pages-index-js":["/component---src-pages-index-js-2129ae864aeb040afe4d.js"],"component---src-pages-license-js":["/component---src-pages-license-js-97064b9e0f17f63a1129.js"]};/*]]>*/</script><script src="/webpack-runtime-0ce17398fc543280a4bc.js" async=""></script><script src="/commons-091d252790abf7509c25.js" async=""></script><script src="/styles-a8f8354e20700922ebe9.js" async=""></script><script src="/component---src-templates-md-page-js-203a2af8ece2db94eba8.js" async=""></script><script src="/app-2a558a725b94d45b6c02.js" async=""></script></body></html>