{"expireTime":9007200831515574000,"key":"transformer-remark-markdown-ast-8bc4042ade87e2f6596174c94deed0f7-gatsby-remark-prismjsgatsby-remark-autolink-headers-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Copyright 2019 Andy Curtis & Daniel Curtis","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":43,"offset":43},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":43,"offset":43},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#balancing-binary-search-trees","title":null,"children":[],"data":{"hProperties":{"aria-label":"balancing binary search trees permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Balancing Binary Search Trees","position":{"start":{"line":4,"column":3,"offset":47},"end":{"line":4,"column":32,"offset":76},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":45},"end":{"line":4,"column":32,"offset":76},"indent":[]},"data":{"id":"balancing-binary-search-trees","htmlAttributes":{"id":"balancing-binary-search-trees"},"hProperties":{"id":"balancing-binary-search-trees"}}},{"type":"paragraph","children":[{"type":"text","value":"This builds significantly on the last section about ","position":{"start":{"line":6,"column":1,"offset":78},"end":{"line":6,"column":53,"offset":130},"indent":[]}},{"type":"link","title":null,"url":"10_binary_search_trees.md","children":[{"type":"text","value":"binary search trees","position":{"start":{"line":6,"column":54,"offset":131},"end":{"line":6,"column":73,"offset":150},"indent":[]}}],"position":{"start":{"line":6,"column":53,"offset":130},"end":{"line":6,"column":101,"offset":178},"indent":[]}},{"type":"text","value":".  To start, let's explore why balancing a binary search tree is important.","position":{"start":{"line":6,"column":101,"offset":178},"end":{"line":6,"column":176,"offset":253},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":78},"end":{"line":6,"column":176,"offset":253},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following code is found in ","position":{"start":{"line":8,"column":1,"offset":255},"end":{"line":8,"column":32,"offset":286},"indent":[]}},{"type":"html","value":"<i>","position":{"start":{"line":8,"column":32,"offset":286},"end":{"line":8,"column":35,"offset":289},"indent":[]}},{"type":"text","value":"illustrations/11","position":{"start":{"line":8,"column":35,"offset":289},"end":{"line":8,"column":51,"offset":305},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"balancing","position":{"start":{"line":8,"column":52,"offset":306},"end":{"line":8,"column":61,"offset":315},"indent":[]}}],"position":{"start":{"line":8,"column":51,"offset":305},"end":{"line":8,"column":62,"offset":316},"indent":[]}},{"type":"text","value":"binary","position":{"start":{"line":8,"column":62,"offset":316},"end":{"line":8,"column":68,"offset":322},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"search","position":{"start":{"line":8,"column":69,"offset":323},"end":{"line":8,"column":75,"offset":329},"indent":[]}}],"position":{"start":{"line":8,"column":68,"offset":322},"end":{"line":8,"column":76,"offset":330},"indent":[]}},{"type":"text","value":"trees/1","position":{"start":{"line":8,"column":76,"offset":330},"end":{"line":8,"column":83,"offset":337},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"binary","position":{"start":{"line":8,"column":84,"offset":338},"end":{"line":8,"column":90,"offset":344},"indent":[]}}],"position":{"start":{"line":8,"column":83,"offset":337},"end":{"line":8,"column":91,"offset":345},"indent":[]}},{"type":"text","value":"search_tree","position":{"start":{"line":8,"column":91,"offset":345},"end":{"line":8,"column":102,"offset":356},"indent":[]}},{"type":"html","value":"</i>","position":{"start":{"line":8,"column":102,"offset":356},"end":{"line":8,"column":106,"offset":360},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":255},"end":{"line":8,"column":106,"offset":360},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$ac</span>/illustrations/11_balancing_binary_search_trees/1_binary_search_tree</code></pre></div>","position":{"start":{"line":9,"column":1,"offset":361},"end":{"line":11,"column":4,"offset":447},"indent":[1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span></code></pre></div>","position":{"start":{"line":13,"column":1,"offset":449},"end":{"line":15,"column":4,"offset":465},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this case, I've not included examples in the Makefile.  I've also commented out printing the data structure using iteration and reverse iteration as it isn't relevant to understanding how the red-black tree works.","position":{"start":{"line":17,"column":1,"offset":467},"end":{"line":17,"column":217,"offset":683},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":467},"end":{"line":17,"column":217,"offset":683},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#why-balancing-is-important","title":null,"children":[],"data":{"hProperties":{"aria-label":"why balancing is important permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why balancing is important","position":{"start":{"line":19,"column":4,"offset":688},"end":{"line":19,"column":30,"offset":714},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":685},"end":{"line":19,"column":30,"offset":714},"indent":[]},"data":{"id":"why-balancing-is-important","htmlAttributes":{"id":"why-balancing-is-important"},"hProperties":{"id":"why-balancing-is-important"}}},{"type":"paragraph","children":[{"type":"text","value":"To understand why balancing a binary search tree is important, let's look at some worst-case and bad scenarios.","position":{"start":{"line":21,"column":1,"offset":716},"end":{"line":21,"column":112,"offset":827},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":716},"end":{"line":21,"column":112,"offset":827},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"One worst case scenario","position":{"start":{"line":23,"column":1,"offset":829},"end":{"line":23,"column":24,"offset":852},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":829},"end":{"line":23,"column":24,"offset":852},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./test_data_structure ABCDEFGHI\nCreating binary_search_tree <span class=\"token keyword\">for</span> ABCDEFGHI\nA1\n  <span class=\"token punctuation\">\\</span>\n   B2\n     <span class=\"token punctuation\">\\</span>\n      C3\n        <span class=\"token punctuation\">\\</span>\n         D4\n           <span class=\"token punctuation\">\\</span>\n            E5\n              <span class=\"token punctuation\">\\</span>\n               F6\n                 <span class=\"token punctuation\">\\</span>\n                  G7\n                    <span class=\"token punctuation\">\\</span>\n                     H8\n                       <span class=\"token punctuation\">\\</span>\n                        I9</code></pre></div>","position":{"start":{"line":24,"column":1,"offset":853},"end":{"line":44,"column":4,"offset":1191},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Another worst-case scenario","position":{"start":{"line":46,"column":1,"offset":1193},"end":{"line":46,"column":28,"offset":1220},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1193},"end":{"line":46,"column":28,"offset":1220},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./test_data_structure IHGFEDCBA\nCreating binary_search_tree <span class=\"token keyword\">for</span> IHGFEDCBA\nI1\n<span class=\"token operator\">|</span>\nH2\n<span class=\"token operator\">|</span>\nG3\n<span class=\"token operator\">|</span>\nF4\n<span class=\"token operator\">|</span>\nE5\n<span class=\"token operator\">|</span>\nD6\n<span class=\"token operator\">|</span>\nC7\n<span class=\"token operator\">|</span>\nB8\n<span class=\"token operator\">|</span>\nA9</code></pre></div>","position":{"start":{"line":47,"column":1,"offset":1221},"end":{"line":67,"column":4,"offset":1351},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A mixed case where the tree isn't balanced","position":{"start":{"line":70,"column":1,"offset":1354},"end":{"line":70,"column":43,"offset":1396},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":1354},"end":{"line":70,"column":43,"offset":1396},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./test_data_structure IHGFEDCBAabcdef\nCreating binary_search_tree <span class=\"token keyword\">for</span> IHGFEDCBAabcdef\nI1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\nH2 a2\n<span class=\"token operator\">|</span>    <span class=\"token punctuation\">\\</span>\nG3    b3\n<span class=\"token operator\">|</span>       <span class=\"token punctuation\">\\</span>\nF4       c4\n<span class=\"token operator\">|</span>          <span class=\"token punctuation\">\\</span>\nE5          d5\n<span class=\"token operator\">|</span>             <span class=\"token punctuation\">\\</span>\nD6             e6\n<span class=\"token operator\">|</span>                <span class=\"token punctuation\">\\</span>\nC7                f7\n<span class=\"token operator\">|</span>                   \nB8\n<span class=\"token operator\">|</span>\nA9</code></pre></div>","position":{"start":{"line":71,"column":1,"offset":1397},"end":{"line":91,"column":4,"offset":1678},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Yet another worst-case scenario.","position":{"start":{"line":93,"column":1,"offset":1680},"end":{"line":93,"column":33,"offset":1712},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":1680},"end":{"line":93,"column":33,"offset":1712},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./test_data_structure Izpagkml\nCreating binary_search_tree <span class=\"token keyword\">for</span> Izpagkml\nI1\n  <span class=\"token punctuation\">\\</span>\n   z2\n   <span class=\"token operator\">|</span>\n   p3\n   <span class=\"token operator\">|</span>\n   a4\n     <span class=\"token punctuation\">\\</span>\n      g5\n        <span class=\"token punctuation\">\\</span>\n         k6\n           <span class=\"token punctuation\">\\</span>\n            m7\n            <span class=\"token operator\">|</span>\n            l8</code></pre></div>","position":{"start":{"line":94,"column":1,"offset":1713},"end":{"line":112,"column":4,"offset":1928},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The example above could be said to be balanced if it looked like the following.","position":{"start":{"line":114,"column":1,"offset":1930},"end":{"line":114,"column":80,"offset":2009},"indent":[]}}],"position":{"start":{"line":114,"column":1,"offset":1930},"end":{"line":114,"column":80,"offset":2009},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">k1\n| \\\n|  p2\n|  | \\\n|  m3 z3\n|  |    \n|  l4\n|    \na2\n| \\\nI3 g3</code></pre></div>","position":{"start":{"line":116,"column":1,"offset":2011},"end":{"line":128,"column":4,"offset":2081},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The leaf nodes are the nodes that don't have children.  In the example above, all of the leaves have a depth of 3, except l, which has a depth of 4.  At the first level of a binary search tree, a fully balanced tree can have at most 1 node (the root node).  At the second level, 2 nodes (+1 for the first level).  At the third level, 4 nodes (+3 for the first and second), and so on.  The example above has 8 nodes, and the entire first, second, and third levels are full.  This tree is balanced.","position":{"start":{"line":130,"column":1,"offset":2083},"end":{"line":130,"column":497,"offset":2579},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":2083},"end":{"line":130,"column":497,"offset":2579},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A balanced binary search tree is useful in that you are guaranteed that finding a node will take O(logN) time where N is the number of elements in the tree.  A binary search tree that isn't balanced has a worst case of O(N) time.  This isn't a big deal if you have 5-10 nodes, but if you have 1 million nodes, a balanced binary search tree will take at most 21 operations.  If the tree is not balanced, it might take 1 million operations!  You will often see logN used in describing how long an algorithm takes.  The base of log, in this case, is 2 (since computers think in terms of 0s and 1s or powers of 2).","position":{"start":{"line":132,"column":1,"offset":2581},"end":{"line":132,"column":611,"offset":3191},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":2581},"end":{"line":132,"column":611,"offset":3191},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The red-black tree is a mostly balanced binary search tree that was invented by Leonidas J. Guibas and Robert Sedgewick.  Certain properties make a red-black tree valid.  ","position":{"start":{"line":135,"column":1,"offset":3194},"end":{"line":135,"column":172,"offset":3365},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":3194},"end":{"line":135,"column":172,"offset":3365},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#properties-of-a-red-black-tree","title":null,"children":[],"data":{"hProperties":{"aria-label":"properties of a red black tree permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Properties of a red-black tree","position":{"start":{"line":137,"column":4,"offset":3370},"end":{"line":137,"column":34,"offset":3400},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":3367},"end":{"line":137,"column":34,"offset":3400},"indent":[]},"data":{"id":"properties-of-a-red-black-tree","htmlAttributes":{"id":"properties-of-a-red-black-tree"},"hProperties":{"id":"properties-of-a-red-black-tree"}}},{"type":"paragraph","children":[{"type":"text","value":"Red–black tree Properties (","position":{"start":{"line":139,"column":1,"offset":3402},"end":{"line":139,"column":28,"offset":3429},"indent":[]}},{"type":"link","title":null,"url":"https://en.wikipedia.org/wiki/Red–black_tree","children":[{"type":"text","value":"https://en.wikipedia.org/wiki/Red–black_tree","position":{"start":{"line":139,"column":28,"offset":3429},"end":{"line":139,"column":72,"offset":3473},"indent":[]}}],"position":{"start":{"line":139,"column":28,"offset":3429},"end":{"line":139,"column":72,"offset":3473},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":139,"column":72,"offset":3473},"end":{"line":139,"column":73,"offset":3474},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":3402},"end":{"line":139,"column":73,"offset":3474},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Each node is either red or black.","position":{"start":{"line":141,"column":4,"offset":3479},"end":{"line":141,"column":37,"offset":3512},"indent":[]}}],"position":{"start":{"line":141,"column":4,"offset":3479},"end":{"line":141,"column":37,"offset":3512},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":3476},"end":{"line":141,"column":37,"offset":3512},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The root is black.","position":{"start":{"line":142,"column":4,"offset":3516},"end":{"line":142,"column":22,"offset":3534},"indent":[]}}],"position":{"start":{"line":142,"column":4,"offset":3516},"end":{"line":142,"column":22,"offset":3534},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":3513},"end":{"line":142,"column":22,"offset":3534},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"All leaves (NIL) are black.","position":{"start":{"line":143,"column":4,"offset":3538},"end":{"line":143,"column":31,"offset":3565},"indent":[]}}],"position":{"start":{"line":143,"column":4,"offset":3538},"end":{"line":143,"column":31,"offset":3565},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":3535},"end":{"line":143,"column":31,"offset":3565},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If a node is red, then both its children are black.","position":{"start":{"line":144,"column":4,"offset":3569},"end":{"line":144,"column":55,"offset":3620},"indent":[]}}],"position":{"start":{"line":144,"column":4,"offset":3569},"end":{"line":144,"column":55,"offset":3620},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":3566},"end":{"line":144,"column":55,"offset":3620},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Every path from a given node to any of its descendant NIL nodes contains the same number of black nodes.","position":{"start":{"line":145,"column":4,"offset":3624},"end":{"line":145,"column":108,"offset":3728},"indent":[]}}],"position":{"start":{"line":145,"column":4,"offset":3624},"end":{"line":145,"column":108,"offset":3728},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":3621},"end":{"line":145,"column":108,"offset":3728},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":3476},"end":{"line":145,"column":108,"offset":3728},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"My additional rules for clarification which are based upon the first 5 rules.","position":{"start":{"line":147,"column":1,"offset":3730},"end":{"line":147,"column":78,"offset":3807},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":3730},"end":{"line":147,"column":78,"offset":3807},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If a node has one child, the child must be red","position":{"start":{"line":148,"column":3,"offset":3810},"end":{"line":148,"column":49,"offset":3856},"indent":[]}}],"position":{"start":{"line":148,"column":3,"offset":3810},"end":{"line":148,"column":49,"offset":3856},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":3808},"end":{"line":148,"column":49,"offset":3856},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If a node has two children, one or both of the children can be red if the parent is black","position":{"start":{"line":149,"column":3,"offset":3859},"end":{"line":149,"column":92,"offset":3948},"indent":[]}}],"position":{"start":{"line":149,"column":3,"offset":3859},"end":{"line":149,"column":92,"offset":3948},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":3857},"end":{"line":149,"column":92,"offset":3948},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If a node is red, it must have either two children who are black or no children at all.","position":{"start":{"line":150,"column":3,"offset":3951},"end":{"line":150,"column":90,"offset":4038},"indent":[]}}],"position":{"start":{"line":150,"column":3,"offset":3951},"end":{"line":150,"column":90,"offset":4038},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":3949},"end":{"line":150,"column":90,"offset":4038},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The parent of a red node must be black","position":{"start":{"line":151,"column":3,"offset":4041},"end":{"line":151,"column":41,"offset":4079},"indent":[]}}],"position":{"start":{"line":151,"column":3,"offset":4041},"end":{"line":151,"column":41,"offset":4079},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":4039},"end":{"line":151,"column":41,"offset":4079},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The black height of any leaf node must be the same (another way of stating 5)","position":{"start":{"line":152,"column":3,"offset":4082},"end":{"line":152,"column":80,"offset":4159},"indent":[]}}],"position":{"start":{"line":152,"column":3,"offset":4082},"end":{"line":152,"column":80,"offset":4159},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":4080},"end":{"line":152,"column":80,"offset":4159},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A red-black tree often will have many more black nodes than red nodes.  This is okay and expected.  The red node is an indication that the tree may be somehow out of balance.  It is possible to have more red nodes than black nodes, but it isn't typical.","position":{"start":{"line":153,"column":3,"offset":4162},"end":{"line":153,"column":256,"offset":4415},"indent":[]}}],"position":{"start":{"line":153,"column":3,"offset":4162},"end":{"line":153,"column":256,"offset":4415},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":4160},"end":{"line":153,"column":256,"offset":4415},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A red-black tree has a worst case of a 2logN depth but is likely to maintain a logN depth or be very close to it.","position":{"start":{"line":154,"column":3,"offset":4418},"end":{"line":154,"column":116,"offset":4531},"indent":[]}}],"position":{"start":{"line":154,"column":3,"offset":4418},"end":{"line":154,"column":116,"offset":4531},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":4416},"end":{"line":154,"column":116,"offset":4531},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":3808},"end":{"line":154,"column":116,"offset":4531},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The red-black tree uses coloring and tree rotations to balance the binary search tree.  ","position":{"start":{"line":156,"column":1,"offset":4533},"end":{"line":156,"column":89,"offset":4621},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":4533},"end":{"line":156,"column":89,"offset":4621},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#coloring","title":null,"children":[],"data":{"hProperties":{"aria-label":"coloring permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Coloring","position":{"start":{"line":158,"column":4,"offset":4626},"end":{"line":158,"column":12,"offset":4634},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":4623},"end":{"line":158,"column":12,"offset":4634},"indent":[]},"data":{"id":"coloring","htmlAttributes":{"id":"coloring"},"hProperties":{"id":"coloring"}}},{"type":"paragraph","children":[{"type":"text","value":"In a red-black tree, the red and black colors are introduced.  Typically, this is represented as a single bit with 0 meaning black and 1, meaning red.  ","position":{"start":{"line":160,"column":1,"offset":4636},"end":{"line":160,"column":153,"offset":4788},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":4636},"end":{"line":160,"column":153,"offset":4788},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To color a node red, set the color to RED (RED is defined as 1).","position":{"start":{"line":162,"column":1,"offset":4790},"end":{"line":162,"column":65,"offset":4854},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":4790},"end":{"line":162,"column":65,"offset":4854},"indent":[]}},{"type":"html","lang":"c","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">color_node_red</span><span class=\"token punctuation\">(</span> node_t <span class=\"token operator\">*</span>node <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  node<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":163,"column":1,"offset":4855},"end":{"line":167,"column":4,"offset":4924},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Likewise, to color a node black, set the color to BLACK (BLACK is defined as 0).","position":{"start":{"line":169,"column":1,"offset":4926},"end":{"line":169,"column":81,"offset":5006},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":4926},"end":{"line":169,"column":81,"offset":5006},"indent":[]}},{"type":"html","lang":"c","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">color_node_black</span><span class=\"token punctuation\">(</span> node_t <span class=\"token operator\">*</span>node <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  node<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":170,"column":1,"offset":5007},"end":{"line":174,"column":4,"offset":5080},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Recoloring a node involves painting a node RED and its children (which both must exist) BLACK.","position":{"start":{"line":176,"column":1,"offset":5082},"end":{"line":176,"column":95,"offset":5176},"indent":[]}}],"position":{"start":{"line":176,"column":1,"offset":5082},"end":{"line":176,"column":95,"offset":5176},"indent":[]}},{"type":"html","lang":"c","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">recolor</span><span class=\"token punctuation\">(</span> node_t <span class=\"token operator\">*</span>n <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  n<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n  n<span class=\"token operator\">-></span>left<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> n<span class=\"token operator\">-></span>right<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":177,"column":1,"offset":5177},"end":{"line":182,"column":4,"offset":5277},"indent":[1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#rotations","title":null,"children":[],"data":{"hProperties":{"aria-label":"rotations permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Rotations","position":{"start":{"line":184,"column":4,"offset":5282},"end":{"line":184,"column":13,"offset":5291},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":5279},"end":{"line":184,"column":13,"offset":5291},"indent":[]},"data":{"id":"rotations","htmlAttributes":{"id":"rotations"},"hProperties":{"id":"rotations"}}},{"type":"paragraph","children":[{"type":"text","value":"Rotations are used to balance binary search trees when using the red-black tree algorithm.  The following examples will not include colors and are just made up.  A right rotation around R","position":{"start":{"line":186,"column":1,"offset":5293},"end":{"line":186,"column":188,"offset":5480},"indent":[]}}],"position":{"start":{"line":186,"column":1,"offset":5293},"end":{"line":186,"column":188,"offset":5480},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">G\n<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>\nE R\n  <span class=\"token operator\">|</span>\n  N</code></pre></div>","position":{"start":{"line":188,"column":1,"offset":5482},"end":{"line":194,"column":4,"offset":5510},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"would result in","position":{"start":{"line":196,"column":1,"offset":5512},"end":{"line":196,"column":16,"offset":5527},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":5512},"end":{"line":196,"column":16,"offset":5527},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">G\n<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>\nE N\n   <span class=\"token punctuation\">\\</span>\n    R</code></pre></div>","position":{"start":{"line":197,"column":1,"offset":5528},"end":{"line":203,"column":4,"offset":5559},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A left rotation around G would result in","position":{"start":{"line":205,"column":1,"offset":5561},"end":{"line":205,"column":41,"offset":5601},"indent":[]}}],"position":{"start":{"line":205,"column":1,"offset":5561},"end":{"line":205,"column":41,"offset":5601},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">N\n<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>\nG R\n<span class=\"token operator\">|</span>\nE</code></pre></div>","position":{"start":{"line":206,"column":1,"offset":5602},"end":{"line":212,"column":4,"offset":5626},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A right rotation around G would result in","position":{"start":{"line":214,"column":1,"offset":5628},"end":{"line":214,"column":42,"offset":5669},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":5628},"end":{"line":214,"column":42,"offset":5669},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">N\n<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>\nE R\n <span class=\"token punctuation\">\\</span>\n  G</code></pre></div>","position":{"start":{"line":215,"column":1,"offset":5670},"end":{"line":221,"column":4,"offset":5697},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In all cases, after a rotation, the tree is still a valid binary search tree.  To do a right rotation around a node, that node must reference a left node.  The left node and itself will exchange colors.  When doing a left rotation around a node, that node must reference a right node.  The right node and itself will exchange colors.","position":{"start":{"line":223,"column":1,"offset":5699},"end":{"line":223,"column":334,"offset":6032},"indent":[]}}],"position":{"start":{"line":223,"column":1,"offset":5699},"end":{"line":223,"column":334,"offset":6032},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"rotate_left does the following.","position":{"start":{"line":225,"column":1,"offset":6034},"end":{"line":225,"column":32,"offset":6065},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":6034},"end":{"line":225,"column":32,"offset":6065},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"assign new_root to A->right.","position":{"start":{"line":226,"column":3,"offset":6068},"end":{"line":226,"column":31,"offset":6096},"indent":[]}}],"position":{"start":{"line":226,"column":3,"offset":6068},"end":{"line":226,"column":31,"offset":6096},"indent":[]}}],"position":{"start":{"line":226,"column":1,"offset":6066},"end":{"line":226,"column":31,"offset":6096},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"swap the color between A and new_root.","position":{"start":{"line":227,"column":3,"offset":6099},"end":{"line":227,"column":41,"offset":6137},"indent":[]}}],"position":{"start":{"line":227,"column":3,"offset":6099},"end":{"line":227,"column":41,"offset":6137},"indent":[]}}],"position":{"start":{"line":227,"column":1,"offset":6097},"end":{"line":227,"column":41,"offset":6137},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"if A has a parent, link the parent to new","position":{"start":{"line":228,"column":3,"offset":6140},"end":{"line":228,"column":44,"offset":6181},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"root; otherwise, link root to new","position":{"start":{"line":228,"column":45,"offset":6182},"end":{"line":228,"column":78,"offset":6215},"indent":[]}}],"position":{"start":{"line":228,"column":44,"offset":6181},"end":{"line":228,"column":79,"offset":6216},"indent":[]}},{"type":"text","value":"root.","position":{"start":{"line":228,"column":79,"offset":6216},"end":{"line":228,"column":84,"offset":6221},"indent":[]}}],"position":{"start":{"line":228,"column":3,"offset":6140},"end":{"line":228,"column":84,"offset":6221},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":6138},"end":{"line":228,"column":84,"offset":6221},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"put A to the left of new","position":{"start":{"line":229,"column":3,"offset":6224},"end":{"line":229,"column":27,"offset":6248},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"root and what was previously to the right of new","position":{"start":{"line":229,"column":28,"offset":6249},"end":{"line":229,"column":76,"offset":6297},"indent":[]}}],"position":{"start":{"line":229,"column":27,"offset":6248},"end":{"line":229,"column":77,"offset":6298},"indent":[]}},{"type":"text","value":"root to the left of A.","position":{"start":{"line":229,"column":77,"offset":6298},"end":{"line":229,"column":99,"offset":6320},"indent":[]}}],"position":{"start":{"line":229,"column":3,"offset":6224},"end":{"line":229,"column":99,"offset":6320},"indent":[]}}],"position":{"start":{"line":229,"column":1,"offset":6222},"end":{"line":229,"column":99,"offset":6320},"indent":[]}}],"position":{"start":{"line":226,"column":1,"offset":6066},"end":{"line":229,"column":99,"offset":6320},"indent":[1,1,1]}},{"type":"html","lang":"c","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">rotate_left</span><span class=\"token punctuation\">(</span>node_t <span class=\"token operator\">*</span>A<span class=\"token punctuation\">,</span> node_t <span class=\"token operator\">*</span><span class=\"token operator\">*</span>root<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  node_t <span class=\"token operator\">*</span>new_root <span class=\"token operator\">=</span> A<span class=\"token operator\">-></span>right<span class=\"token punctuation\">;</span>\n  size_t tmp_color <span class=\"token operator\">=</span> A<span class=\"token operator\">-></span>color<span class=\"token punctuation\">;</span>\n  A<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> new_root<span class=\"token operator\">-></span>color<span class=\"token punctuation\">;</span>\n  new_root<span class=\"token operator\">-></span>color <span class=\"token operator\">=</span> tmp_color<span class=\"token punctuation\">;</span>\n  node_t <span class=\"token operator\">*</span>parent <span class=\"token operator\">=</span> A<span class=\"token operator\">-></span>parent<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-></span>left <span class=\"token operator\">==</span> A<span class=\"token punctuation\">)</span>\n      parent<span class=\"token operator\">-></span>left <span class=\"token operator\">=</span> new_root<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span>\n      parent<span class=\"token operator\">-></span>right <span class=\"token operator\">=</span> new_root<span class=\"token punctuation\">;</span>\n    new_root<span class=\"token operator\">-></span>parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    new_root<span class=\"token operator\">-></span>parent <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">*</span>root <span class=\"token operator\">=</span> new_root<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  node_t <span class=\"token operator\">*</span>tmp <span class=\"token operator\">=</span> new_root<span class=\"token operator\">-></span>left<span class=\"token punctuation\">;</span>\n  new_root<span class=\"token operator\">-></span>left <span class=\"token operator\">=</span> A<span class=\"token punctuation\">;</span>\n  A<span class=\"token operator\">-></span>parent <span class=\"token operator\">=</span> new_root<span class=\"token punctuation\">;</span>\n\n  A<span class=\"token operator\">-></span>right <span class=\"token operator\">=</span> tmp<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">)</span>\n    tmp<span class=\"token operator\">-></span>parent <span class=\"token operator\">=</span> A<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":231,"column":1,"offset":6322},"end":{"line":258,"column":4,"offset":6871},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Rotating to the right is similar to rotating to the left (except you need to swap left and right).","position":{"start":{"line":260,"column":1,"offset":6873},"end":{"line":260,"column":99,"offset":6971},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":6873},"end":{"line":260,"column":99,"offset":6971},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I've written a tool to help you to understand how colors and rotations work.","position":{"start":{"line":262,"column":1,"offset":6973},"end":{"line":262,"column":77,"offset":7049},"indent":[]}}],"position":{"start":{"line":262,"column":1,"offset":6973},"end":{"line":262,"column":77,"offset":7049},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following code is found in ","position":{"start":{"line":264,"column":1,"offset":7051},"end":{"line":264,"column":32,"offset":7082},"indent":[]}},{"type":"html","value":"<i>","position":{"start":{"line":264,"column":32,"offset":7082},"end":{"line":264,"column":35,"offset":7085},"indent":[]}},{"type":"text","value":"illustrations/11","position":{"start":{"line":264,"column":35,"offset":7085},"end":{"line":264,"column":51,"offset":7101},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"balancing","position":{"start":{"line":264,"column":52,"offset":7102},"end":{"line":264,"column":61,"offset":7111},"indent":[]}}],"position":{"start":{"line":264,"column":51,"offset":7101},"end":{"line":264,"column":62,"offset":7112},"indent":[]}},{"type":"text","value":"binary","position":{"start":{"line":264,"column":62,"offset":7112},"end":{"line":264,"column":68,"offset":7118},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"search","position":{"start":{"line":264,"column":69,"offset":7119},"end":{"line":264,"column":75,"offset":7125},"indent":[]}}],"position":{"start":{"line":264,"column":68,"offset":7118},"end":{"line":264,"column":76,"offset":7126},"indent":[]}},{"type":"text","value":"trees/2","position":{"start":{"line":264,"column":76,"offset":7126},"end":{"line":264,"column":83,"offset":7133},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"tree","position":{"start":{"line":264,"column":84,"offset":7134},"end":{"line":264,"column":88,"offset":7138},"indent":[]}}],"position":{"start":{"line":264,"column":83,"offset":7133},"end":{"line":264,"column":89,"offset":7139},"indent":[]}},{"type":"text","value":"operations","position":{"start":{"line":264,"column":89,"offset":7139},"end":{"line":264,"column":99,"offset":7149},"indent":[]}},{"type":"html","value":"</i>","position":{"start":{"line":264,"column":99,"offset":7149},"end":{"line":264,"column":103,"offset":7153},"indent":[]}}],"position":{"start":{"line":264,"column":1,"offset":7051},"end":{"line":264,"column":103,"offset":7153},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$ac</span>/illustrations/11_balancing_binary_search_trees/2_tree_operations</code></pre></div>","position":{"start":{"line":265,"column":1,"offset":7154},"end":{"line":267,"column":4,"offset":7237},"indent":[1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span></code></pre></div>","position":{"start":{"line":269,"column":1,"offset":7239},"end":{"line":271,"column":4,"offset":7255},"indent":[1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./tree_operations</code></pre></div>","position":{"start":{"line":273,"column":1,"offset":7257},"end":{"line":275,"column":4,"offset":7286},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You will be prompted with the following...","position":{"start":{"line":277,"column":1,"offset":7288},"end":{"line":277,"column":43,"offset":7330},"indent":[]}}],"position":{"start":{"line":277,"column":1,"offset":7288},"end":{"line":277,"column":43,"offset":7330},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>nsert, <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>rase, <span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span>ight_rotate, <span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>eft_rotate, <span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">)</span>ed, <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span>lack, re<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>olor, <span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span>elp, <span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span>uit</code></pre></div>","position":{"start":{"line":278,"column":1,"offset":7331},"end":{"line":280,"column":4,"offset":7434},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":282,"column":1,"offset":7436},"end":{"line":282,"column":5,"offset":7440},"indent":[]}}],"position":{"start":{"line":282,"column":1,"offset":7436},"end":{"line":282,"column":5,"offset":7440},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">i a</code></pre></div>","position":{"start":{"line":283,"column":1,"offset":7441},"end":{"line":285,"column":4,"offset":7456},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":287,"column":1,"offset":7458},"end":{"line":287,"column":8,"offset":7465},"indent":[]}}],"position":{"start":{"line":287,"column":1,"offset":7458},"end":{"line":287,"column":8,"offset":7465},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">(</span>a0<span class=\"token punctuation\">)</span>\n\nThe root is not black<span class=\"token operator\">!</span>\n\n<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>nsert, <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>rase, <span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span>ight_rotate, <span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span>eft_rotate, <span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">)</span>ed, <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span>lack, re<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>olor, <span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span>elp, <span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span>uit</code></pre></div>","position":{"start":{"line":288,"column":1,"offset":7466},"end":{"line":294,"column":4,"offset":7599},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If the node is in parenthesis, it is red.  On your terminal, it should print in the red color, as well.  Whenever you insert a node, it is painted red.  You can use the tool to try and turn this into a proper red-black tree.  In the red-black tree, the root is always black.  We can paint a black by typing the following.","position":{"start":{"line":296,"column":1,"offset":7601},"end":{"line":296,"column":322,"offset":7922},"indent":[]}}],"position":{"start":{"line":296,"column":1,"offset":7601},"end":{"line":296,"column":322,"offset":7922},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":298,"column":1,"offset":7924},"end":{"line":298,"column":5,"offset":7928},"indent":[]}}],"position":{"start":{"line":298,"column":1,"offset":7924},"end":{"line":298,"column":5,"offset":7928},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b a</code></pre></div>","position":{"start":{"line":299,"column":1,"offset":7929},"end":{"line":301,"column":4,"offset":7944},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":303,"column":1,"offset":7946},"end":{"line":303,"column":8,"offset":7953},"indent":[]}}],"position":{"start":{"line":303,"column":1,"offset":7946},"end":{"line":303,"column":8,"offset":7953},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">a1\n\nStarting with a valid red black tree\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n\nOperation: insert a\n<span class=\"token punctuation\">(</span>a0<span class=\"token punctuation\">)</span>\n\nThe root is not black<span class=\"token operator\">!</span>\n\nOperation: black a\na1\n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":304,"column":1,"offset":7954},"end":{"line":319,"column":4,"offset":8158},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The first operation was ","position":{"start":{"line":321,"column":1,"offset":8160},"end":{"line":321,"column":25,"offset":8184},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"insert a","position":{"start":{"line":321,"column":27,"offset":8186},"end":{"line":321,"column":35,"offset":8194},"indent":[]}}],"position":{"start":{"line":321,"column":25,"offset":8184},"end":{"line":321,"column":37,"offset":8196},"indent":[]}},{"type":"text","value":" broke the red-black tree rules.  It was fixed by painting the root node black.","position":{"start":{"line":321,"column":37,"offset":8196},"end":{"line":321,"column":116,"offset":8275},"indent":[]}}],"position":{"start":{"line":321,"column":1,"offset":8160},"end":{"line":321,"column":116,"offset":8275},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":323,"column":1,"offset":8277},"end":{"line":323,"column":5,"offset":8281},"indent":[]}}],"position":{"start":{"line":323,"column":1,"offset":8277},"end":{"line":323,"column":5,"offset":8281},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">i b</code></pre></div>","position":{"start":{"line":324,"column":1,"offset":8282},"end":{"line":326,"column":4,"offset":8297},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":327,"column":1,"offset":8298},"end":{"line":327,"column":8,"offset":8305},"indent":[]}}],"position":{"start":{"line":327,"column":1,"offset":8298},"end":{"line":327,"column":8,"offset":8305},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">a1\n  \\\n   (b1)\n\nStarting with a valid red black tree\n====================================\na1\n\n\nOperation: insert b\na1\n  \\\n   (b1)\n\n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":328,"column":1,"offset":8306},"end":{"line":345,"column":4,"offset":8486},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this case, nothing needed to be done because b's parent was black.","position":{"start":{"line":347,"column":1,"offset":8488},"end":{"line":347,"column":70,"offset":8557},"indent":[]}}],"position":{"start":{"line":347,"column":1,"offset":8488},"end":{"line":347,"column":70,"offset":8557},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":349,"column":1,"offset":8559},"end":{"line":349,"column":5,"offset":8563},"indent":[]}}],"position":{"start":{"line":349,"column":1,"offset":8559},"end":{"line":349,"column":5,"offset":8563},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">i c</code></pre></div>","position":{"start":{"line":350,"column":1,"offset":8564},"end":{"line":352,"column":4,"offset":8579},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":353,"column":1,"offset":8580},"end":{"line":353,"column":8,"offset":8587},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":8580},"end":{"line":353,"column":8,"offset":8587},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">a1\n  <span class=\"token punctuation\">\\</span>\n   <span class=\"token punctuation\">(</span>b1<span class=\"token punctuation\">)</span>\n       <span class=\"token punctuation\">\\</span>\n        <span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>b1<span class=\"token punctuation\">)</span> has a red right child and is red\n<span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span> has a red parent and is red</code></pre></div>","position":{"start":{"line":354,"column":1,"offset":8588},"end":{"line":363,"column":4,"offset":8708},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this case, c's parent b is red.  If we rotate around a to the left, it should fix it.","position":{"start":{"line":365,"column":1,"offset":8710},"end":{"line":365,"column":89,"offset":8798},"indent":[]}}],"position":{"start":{"line":365,"column":1,"offset":8710},"end":{"line":365,"column":89,"offset":8798},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":367,"column":1,"offset":8800},"end":{"line":367,"column":5,"offset":8804},"indent":[]}}],"position":{"start":{"line":367,"column":1,"offset":8800},"end":{"line":367,"column":5,"offset":8804},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">l a</code></pre></div>","position":{"start":{"line":368,"column":1,"offset":8805},"end":{"line":370,"column":4,"offset":8820},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":371,"column":1,"offset":8821},"end":{"line":371,"column":8,"offset":8828},"indent":[]}}],"position":{"start":{"line":371,"column":1,"offset":8821},"end":{"line":371,"column":8,"offset":8828},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">b1\n| \\\n|  (c1)\n|      \n(a1)\n\nStarting with a valid red black tree\n====================================\na1\n  \\\n   (b1)\n\n\nOperation: insert c\na1\n  \\\n   (b1)\n       \\\n        (c1)\n\n(b1) has a red right child and is red\n(c1) has a red parent and is red\n\nOperation: left_rotate a\nb1\n| \\\n|  (c1)\n|      \n(a1)\n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":372,"column":1,"offset":8829},"end":{"line":404,"column":4,"offset":9181},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":406,"column":1,"offset":9183},"end":{"line":406,"column":5,"offset":9187},"indent":[]}}],"position":{"start":{"line":406,"column":1,"offset":9183},"end":{"line":406,"column":5,"offset":9187},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">i d</code></pre></div>","position":{"start":{"line":407,"column":1,"offset":9188},"end":{"line":409,"column":4,"offset":9203},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":410,"column":1,"offset":9204},"end":{"line":410,"column":8,"offset":9211},"indent":[]}}],"position":{"start":{"line":410,"column":1,"offset":9204},"end":{"line":410,"column":8,"offset":9211},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      <span class=\"token punctuation\">\\</span>\n<span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>    <span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span> has a red right child and is red\n<span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span> has a red parent and is red</code></pre></div>","position":{"start":{"line":411,"column":1,"offset":9212},"end":{"line":420,"column":4,"offset":9332},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Since the parent (c) and the uncle (a) are both red, we can try recoloring around the grandparent (b).","position":{"start":{"line":422,"column":1,"offset":9334},"end":{"line":422,"column":103,"offset":9436},"indent":[]}}],"position":{"start":{"line":422,"column":1,"offset":9334},"end":{"line":422,"column":103,"offset":9436},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":424,"column":1,"offset":9438},"end":{"line":424,"column":5,"offset":9442},"indent":[]}}],"position":{"start":{"line":424,"column":1,"offset":9438},"end":{"line":424,"column":5,"offset":9442},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">c b</code></pre></div>","position":{"start":{"line":425,"column":1,"offset":9443},"end":{"line":427,"column":4,"offset":9458},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":428,"column":1,"offset":9459},"end":{"line":428,"column":8,"offset":9466},"indent":[]}}],"position":{"start":{"line":428,"column":1,"offset":9459},"end":{"line":428,"column":8,"offset":9466},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">(</span>b0<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>   <span class=\"token punctuation\">\\</span>\na1   c1\n       <span class=\"token punctuation\">\\</span>\n        <span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span>\n\nThe root is not black<span class=\"token operator\">!</span></code></pre></div>","position":{"start":{"line":429,"column":1,"offset":9467},"end":{"line":437,"column":4,"offset":9543},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If the tree is balanced, we can always just paint the root node black.","position":{"start":{"line":439,"column":1,"offset":9545},"end":{"line":439,"column":71,"offset":9615},"indent":[]}}],"position":{"start":{"line":439,"column":1,"offset":9545},"end":{"line":439,"column":71,"offset":9615},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":441,"column":1,"offset":9617},"end":{"line":441,"column":5,"offset":9621},"indent":[]}}],"position":{"start":{"line":441,"column":1,"offset":9617},"end":{"line":441,"column":5,"offset":9621},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b b</code></pre></div>","position":{"start":{"line":442,"column":1,"offset":9622},"end":{"line":444,"column":4,"offset":9637},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":445,"column":1,"offset":9638},"end":{"line":445,"column":8,"offset":9645},"indent":[]}}],"position":{"start":{"line":445,"column":1,"offset":9638},"end":{"line":445,"column":8,"offset":9645},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 c2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\n\nStarting with a valid red black tree\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      \n<span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>\n\nOperation: insert d\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      <span class=\"token punctuation\">\\</span>\n<span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>    <span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>c1<span class=\"token punctuation\">)</span> has a red right child and is red\n<span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span> has a red parent and is red\n\nOperation: color b\n<span class=\"token punctuation\">(</span>b0<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>   <span class=\"token punctuation\">\\</span>\na1   c1\n       <span class=\"token punctuation\">\\</span>\n        <span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span>\n\nThe root is not black<span class=\"token operator\">!</span>\n\nOperation: black b\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 c2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>      \n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":446,"column":1,"offset":9646},"end":{"line":488,"column":4,"offset":10105},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"type","position":{"start":{"line":490,"column":1,"offset":10107},"end":{"line":490,"column":5,"offset":10111},"indent":[]}}],"position":{"start":{"line":490,"column":1,"offset":10107},"end":{"line":490,"column":5,"offset":10111},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">i e</code></pre></div>","position":{"start":{"line":491,"column":1,"offset":10112},"end":{"line":493,"column":4,"offset":10127},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":494,"column":1,"offset":10128},"end":{"line":494,"column":8,"offset":10135},"indent":[]}}],"position":{"start":{"line":494,"column":1,"offset":10128},"end":{"line":494,"column":8,"offset":10135},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 c2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">\\</span>\n           <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span> has a red right child and is red\n<span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span> has a red parent and is red</code></pre></div>","position":{"start":{"line":495,"column":1,"offset":10136},"end":{"line":506,"column":4,"offset":10278},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This can be resolved through a left rotation.\ntype","position":{"start":{"line":508,"column":1,"offset":10280},"end":{"line":509,"column":5,"offset":10330},"indent":[1]}}],"position":{"start":{"line":508,"column":1,"offset":10280},"end":{"line":509,"column":5,"offset":10330},"indent":[1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">l c</code></pre></div>","position":{"start":{"line":510,"column":1,"offset":10331},"end":{"line":512,"column":4,"offset":10346},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":513,"column":1,"offset":10347},"end":{"line":513,"column":8,"offset":10354},"indent":[]}}],"position":{"start":{"line":513,"column":1,"offset":10347},"end":{"line":513,"column":8,"offset":10354},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 d2\n   <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n   <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">|</span>      \n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nStarting with a valid red black tree\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 c2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\n\n\nOperation: insert e\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 c2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">\\</span>\n           <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>d2<span class=\"token punctuation\">)</span> has a red right child and is red\n<span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span> has a red parent and is red\n\nOperation: left_rotate c\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 d2\n   <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n   <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">|</span>      \n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":514,"column":1,"offset":10355},"end":{"line":555,"column":4,"offset":10794},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The tool will also allow you to erase nodes.  Let","position":{"start":{"line":557,"column":1,"offset":10796},"end":{"line":557,"column":50,"offset":10845},"indent":[]}},{"type":"text","value":"'","position":{"start":{"line":557,"column":50,"offset":10845},"end":{"line":557,"column":52,"offset":10847},"indent":[]}},{"type":"text","value":"s erase a to start.\ntype","position":{"start":{"line":557,"column":52,"offset":10847},"end":{"line":558,"column":5,"offset":10871},"indent":[1]}}],"position":{"start":{"line":557,"column":1,"offset":10796},"end":{"line":558,"column":5,"offset":10871},"indent":[1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">e a</code></pre></div>","position":{"start":{"line":559,"column":1,"offset":10872},"end":{"line":561,"column":4,"offset":10887},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":562,"column":1,"offset":10888},"end":{"line":562,"column":8,"offset":10895},"indent":[]}}],"position":{"start":{"line":562,"column":1,"offset":10888},"end":{"line":562,"column":8,"offset":10895},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b1\n  <span class=\"token punctuation\">\\</span>\n   d2\n   <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n   <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">|</span>      \n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nb1 has one right child, and it isn't red</code></pre></div>","position":{"start":{"line":563,"column":1,"offset":10896},"end":{"line":573,"column":4,"offset":10999},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We can try a left rotation around b","position":{"start":{"line":575,"column":1,"offset":11001},"end":{"line":575,"column":36,"offset":11036},"indent":[]}}],"position":{"start":{"line":575,"column":1,"offset":11001},"end":{"line":575,"column":36,"offset":11036},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">l b</code></pre></div>","position":{"start":{"line":576,"column":1,"offset":11037},"end":{"line":578,"column":4,"offset":11052},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":579,"column":1,"offset":11053},"end":{"line":579,"column":8,"offset":11060},"indent":[]}}],"position":{"start":{"line":579,"column":1,"offset":11053},"end":{"line":579,"column":8,"offset":11060},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">d1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      \nb2\n  <span class=\"token punctuation\">\\</span>\n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span> has a different black height than <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":580,"column":1,"offset":11061},"end":{"line":590,"column":4,"offset":11155},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If we color e black, the tree will be a proper red-black tree.","position":{"start":{"line":591,"column":1,"offset":11156},"end":{"line":591,"column":63,"offset":11218},"indent":[]}}],"position":{"start":{"line":591,"column":1,"offset":11156},"end":{"line":591,"column":63,"offset":11218},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">b e</code></pre></div>","position":{"start":{"line":592,"column":1,"offset":11219},"end":{"line":594,"column":4,"offset":11234},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"outputs","position":{"start":{"line":595,"column":1,"offset":11235},"end":{"line":595,"column":8,"offset":11242},"indent":[]}}],"position":{"start":{"line":595,"column":1,"offset":11235},"end":{"line":595,"column":8,"offset":11242},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">d1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  e2\n<span class=\"token operator\">|</span>    \nb2\n  <span class=\"token punctuation\">\\</span>\n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nStarting with a valid red black tree\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nb1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\na2 d2\n   <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n   <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">|</span>      \n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nOperation: erase a\nb1\n  <span class=\"token punctuation\">\\</span>\n   d2\n   <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n   <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">|</span>      \n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nb1 has one right child, and it isn't red\n\nOperation: left_rotate b\nd1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      \nb2\n  <span class=\"token punctuation\">\\</span>\n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span> has a different black height than <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nOperation: black e\nd1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  e2\n<span class=\"token operator\">|</span>    \nb2\n  <span class=\"token punctuation\">\\</span>\n   <span class=\"token punctuation\">(</span>c2<span class=\"token punctuation\">)</span>\n\nThe above tree is a valid red-black tree</code></pre></div>","position":{"start":{"line":596,"column":1,"offset":11243},"end":{"line":647,"column":4,"offset":11730},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I'll reference this tool in the explanation of the red-black tree that comes next.  Hopefully, the red-black tree will make more sense as we've already seen how much of it works.","position":{"start":{"line":649,"column":1,"offset":11732},"end":{"line":649,"column":179,"offset":11910},"indent":[]}}],"position":{"start":{"line":649,"column":1,"offset":11732},"end":{"line":649,"column":179,"offset":11910},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The tool (tree_operations) can also start with a valid red-black tree, which you can modify by specifying a sequence of characters in the order in which you wish the characters to be inserted.","position":{"start":{"line":651,"column":1,"offset":11912},"end":{"line":651,"column":193,"offset":12104},"indent":[]}}],"position":{"start":{"line":651,"column":1,"offset":11912},"end":{"line":651,"column":193,"offset":12104},"indent":[]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./tree_operations ABC\nB1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>C1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>      \n<span class=\"token punctuation\">(</span>A1<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":653,"column":1,"offset":12106},"end":{"line":660,"column":4,"offset":12169},"indent":[1,1,1,1,1,1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./tree_operations ABCD\nB1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\nA2 C2\n     <span class=\"token punctuation\">\\</span>\n      <span class=\"token punctuation\">(</span>D2<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":662,"column":1,"offset":12171},"end":{"line":669,"column":4,"offset":12238},"indent":[1,1,1,1,1,1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./tree_operations BADC\nB1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\nA2 D2\n   <span class=\"token operator\">|</span>\n   <span class=\"token punctuation\">(</span>C2<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":671,"column":1,"offset":12240},"end":{"line":678,"column":4,"offset":12302},"indent":[1,1,1,1,1,1,1]}},{"type":"html","lang":"bash","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./tree_operations ABCDEFGHIJKLMNOPQRSTUVWXYZ\nH1\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  P2\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>T2<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>   <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>  R3   V3\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>  Q4 <span class=\"token operator\">|</span> U4 <span class=\"token punctuation\">(</span>X3<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span>    <span class=\"token operator\">|</span>   <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>     S4   W4   Y4\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>                 <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  <span class=\"token punctuation\">(</span>L2<span class=\"token punctuation\">)</span>               <span class=\"token punctuation\">(</span>Z4<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span>   <span class=\"token punctuation\">\\</span>                  \n<span class=\"token operator\">|</span>  J3   N3\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  I4 <span class=\"token operator\">|</span> M4 O4\n<span class=\"token operator\">|</span>     <span class=\"token operator\">|</span>      \nD2    K4\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>     \n<span class=\"token operator\">|</span>  F3\n<span class=\"token operator\">|</span>  <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token operator\">|</span>  E4 G4\n<span class=\"token operator\">|</span>       \nB3\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span>\nA4 C4</code></pre></div>","position":{"start":{"line":680,"column":1,"offset":12304},"end":{"line":709,"column":4,"offset":12685},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once the tool is loaded, you can insert or erase nodes and try and figure out how to make it work as a red-black tree again.","position":{"start":{"line":711,"column":1,"offset":12687},"end":{"line":711,"column":125,"offset":12811},"indent":[]}}],"position":{"start":{"line":711,"column":1,"offset":12687},"end":{"line":711,"column":125,"offset":12811},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#the-red-black-tree","title":null,"children":[],"data":{"hProperties":{"aria-label":"the red black tree permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"link","title":null,"url":"12_red_black_tree.md","children":[{"type":"text","value":"The Red Black Tree","position":{"start":{"line":713,"column":4,"offset":12816},"end":{"line":713,"column":22,"offset":12834},"indent":[]}}],"position":{"start":{"line":713,"column":3,"offset":12815},"end":{"line":713,"column":45,"offset":12857},"indent":[]}}],"position":{"start":{"line":713,"column":1,"offset":12813},"end":{"line":713,"column":45,"offset":12857},"indent":[]},"data":{"id":"the-red-black-tree","htmlAttributes":{"id":"the-red-black-tree"},"hProperties":{"id":"the-red-black-tree"}}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"../README.md","children":[{"type":"text","value":"Table of Contents","position":{"start":{"line":715,"column":2,"offset":12860},"end":{"line":715,"column":19,"offset":12877},"indent":[]}}],"position":{"start":{"line":715,"column":1,"offset":12859},"end":{"line":715,"column":34,"offset":12892},"indent":[]}},{"type":"text","value":"  - Copyright 2019 Andy Curtis","position":{"start":{"line":715,"column":34,"offset":12892},"end":{"line":715,"column":64,"offset":12922},"indent":[]}}],"position":{"start":{"line":715,"column":1,"offset":12859},"end":{"line":715,"column":64,"offset":12922},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":716,"column":1,"offset":12923}}}}